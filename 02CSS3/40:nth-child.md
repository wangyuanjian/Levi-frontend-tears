# CSS :nth-child 
> :nth-child ä¼ªç±»æ ¹æ®å…ƒç´ åœ¨åŒçº§å…ƒç´ ä¸­çš„ä½ç½®æ¥åŒ¹é…å…ƒç´ .

<!-- TOC -->

- [CSS :nth-child](#css-nth-child)
  - [è¯­æ³•](#%E8%AF%AD%E6%B3%95)
    - [å€¼æ˜¯å…³é”®è¯ odd/even](#%E5%80%BC%E6%98%AF%E5%85%B3%E9%94%AE%E8%AF%8D-oddeven)
    - [An+B](#anb)
    - [æœ€æ–°çš„ [of S] è¯­æ³•](#%E6%9C%80%E6%96%B0%E7%9A%84-of-s-%E8%AF%AD%E6%B3%95)
    - [æƒé‡](#%E6%9D%83%E9%87%8D)
  - [æµè§ˆå™¨å…¼å®¹æ€§](#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%BC%E5%AE%B9%E6%80%A7)

<!-- /TOC -->

å¾ˆç®€å•çš„ä¾‹å­, æ¥ç›´è§‰ä¸Šç†è§£è¿™ä¸ªä¼ªç±»çš„æ„æ€
```html
<ul>
  <li class="me">Apple</li>
  <li>Banana</li>
  <li class="me">Peach</li>
</ul>
<ul>
  <li>Apple</li>
  <li class="me">Banana</li>
  <li class="me">Peach</li>
</ul>
```
```css
.me:nth-child(1) { background-color: salmon; }  
```
![](../image/Snipaste_2023-05-27_10-05-48.png)

ä½ ä¹Ÿè®¸ä¼šå¥‡æ€ªğŸ¤”, ä¸ºä»€ä¹ˆä¸‹è¾¹ä¸€ç»„çš„ `Banana` èƒŒæ™¯ä¸æ˜¯çº¢è‰²å‘¢? å› ä¸º `.me:nth-child(1)` è¡¨ç¤º**é€‰ä¸­åŒçº§å…ƒç´ ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¹¶ä¸”è¯¥å…ƒç´  class åŒ…å« meâœ…**, æ³¨æ„**ä¸æ˜¯**é€‰ä¸­ç¬¬ä¸€ä¸ª `class` åŒ…å« `me` çš„å…ƒç´ . æ‰€ä»¥, å¦‚æœåŒçº§å…ƒç´ ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ `class` ä¸åŒ…å« `me`, ä¹Ÿä¸ä¼šé€‰ä¸­.

## è¯­æ³•
åœ¨ `:nth-child()` è¯­æ³•ä¸­, ç»Ÿè®¡çš„å…ƒç´ åŒ…å«åŒçº§çš„ä»»ä½•ç±»å‹å…ƒç´ .

`:nth-child()` çš„å®Œæ•´è¯­æ³•å¦‚ä¸‹, `?` å‰é¢çš„ `[]` ä¸­å†…å®¹è¡¨ç¤ºå¯é€‰, ç¨åä¼šä»‹ç»è¿™ç§æœ€æ–°çš„éƒ¨åˆ†. `:nth-child()` åªæ¥å—ä¸€ä¸ªå‚æ•°, è¯¥å‚æ•°æè¿°åŒ¹é…åŒçº§å…ƒç´ çš„æ¨¡å¼, å…ƒç´ ç´¢å¼•ä» `1` å¼€å§‹, æ³¨æ„ä¸æ˜¯ `0`.
```
:nth-child(<nth> [of S]?) { ... }
```

### å€¼æ˜¯å…³é”®è¯ odd/even
- `odd`: è¡¨ç¤ºåœ¨åŒçº§å…ƒç´ ä¸­å¥‡æ•°ä½ç½®çš„å…ƒç´ : 1ã€3ã€5...
- `even`: è¡¨ç¤ºåœ¨åŒçº§å…ƒç´ ä¸­å¶æ•°ä½ç½®çš„å…ƒç´ : 2ã€4ã€6...

æ¯”å¦‚, åœ¨ä¸€ä¸ªè¡¨æ ¼ä¸­æˆ‘ä»¬å¸Œæœ›ç›¸é‚»è¡Œçš„èƒŒæ™¯é¢œè‰²ä¸åŒ, è¿™æ ·æ–¹ä¾¿é˜…è¯», å°±å¯ä»¥è¿™æ ·å†™
```css
tr:nth-child(even) { background-color: azure; }
```
```html
<table border="1">
  <thead>
    <tr>
      <th>NAME</th><th>AGE</th> <th>COUNTRY</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Levi</td> <td>18</td> <td>China</td>
    </tr>
    <tr>
      <td>June</td> <td>23</td> <td>USA</td>   
    </tr>
    <tr>
      <td>JiaXin</td> <td>20</td> <td>China</td>
    </tr>
    <tr>
      <td>Mike</td> <td>22</td> <td>UK</td>
    </tr>
  </tbody>
</table>
```
![](../image/Snipaste_2023-05-27_10-38-16.png)

### An+B
ä¸è®ºæ˜¯ `odd` è¿˜æ˜¯ `even`, ä»–ä»¬éƒ½æ˜¯æ›´æ™®éè¡¨è¾¾çš„ç‰¹æ®Šæƒ…å†µçš„ç®€ä¾¿å†™æ³•. ä½¿ç”¨ `An+B` è¿™ç§è®°å·ä½ å¯ä»¥è‡ªç”±å®šåˆ¶ä½ çš„åŒ¹é…è§„åˆ™
- `A`: æ•´æ•°æ­¥é•¿
- `n`: éè´Ÿæ•´æ•°, ä» `0` å¼€å§‹
- `B`: æ•´æ•°åç§»é‡

ä¸ºä»€ä¹ˆæˆ‘ä»¬è¯´ `odd/even` æ˜¯ `An+B` ç‰¹æ®Šå–å€¼æ—¶çš„ç®€ä¾¿å†™æ³•å‘¢? å› ä¸º
- `odd` -> `:nth-child(2n+1)`
- `even` -> `:nth-child(2n)`

ä¸‹é¢æˆ‘ä»¬å°±çœ‹çœ‹ `An+B` å–ä¸åŒå€¼çš„ç‰¹å®šç”¨æ³•å§
- `:nth-child(2)`: è¡¨ç¤ºç¬¬äºŒä¸ªå…ƒç´ 
![](../image/Snipaste_2023-05-27_16-33-20.png)
```css
.two:nth-child(2) { background-color: salmon; }
```
```html
<ul class="flex-1">
  <li class="two">1</li>
  <li class="two">2</li>
  <li class="two">3</li>
</ul>
<ul class="flex-1">
  <li class="two">1</li>
  <li class="two" hidden>2</li> <!-- !!! -->
  <li class="two">3</li>
</ul>
```
ä»ä¸Šå›¾ä¸­å¯ä»¥çœ‹åˆ°, å·¦è¾¹çš„ç¬¦åˆæˆ‘ä»¬çš„é¢„æœŸ, ç¬¬äºŒä¸ªå…ƒç´ å¹¶ä¸” `class` æ˜¯ `two` çš„å…ƒç´ èƒŒæ™¯çº¢äº†, ä½†æ˜¯å·¦è¾¹çš„å¥½åƒä¸å¤ªè¡Œ, å› ä¸º `display` ä¸º `none` çš„å…ƒç´ ä¹Ÿè¢«è€ƒè™‘è¿›æ¥äº†!!!

- `:nth-child(3n)`: è¡¨ç¤ºç¬¬3ã€6ã€9...ä¸ªå…ƒç´ .
![](../image/Snipaste_2023-05-27_16-48-32.png)
- `:nth-child(n+5)`: è¡¨ç¤ºç¬¬5ã€6ã€7ã€8ã€9...ä¸ªå…ƒç´ . ä¹Ÿå°±æ˜¯ç¬¬äº”ä¸ªå’Œåé¢çš„å…ƒç´ .
![](../image/Snipaste_2023-05-27_16-49-38.png)
- `:nth-child(-n+3)`: è¡¨ç¤ºç¬¬1(-2+3)ã€2(-1+3)ã€3(-0+3)ä¸ªå…ƒç´ . å¦‚æœ `n` çš„å€¼ç»§ç»­å¢åŠ , å°±ä¼šé€‰ä¸­ç¬¬0ã€-1ã€-2...ä¸ªå…ƒç´ , è´Ÿæ•°ä½ç½®çš„å…ƒç´ ä¸å­˜åœ¨å¹¶ä¸”å…ƒç´ æ˜¯ä» 1 å¼€å§‹ç´¢å¼•çš„.
![](../image/Snipaste_2023-05-27_16-51-10.png)
- `:nth-child(4n+1)`: è¡¨ç¤ºç¬¬1ã€5ã€9...ä¸ªå…ƒç´ 
![](../image/Snipaste_2023-05-27_16-52-05.png)
- `:nth-child(n)`: è¡¨ç¤ºæ¯ä¸€ä¸ªå…ƒç´ 
- `:nth-child(1)`: è¡¨ç¤ºç¬¬ 1 ä¸ªå…ƒç´ , æ˜¯ `n` ä¸º 1 æ›´ç‰¹æ®Šçš„æƒ…å†µ
![](../image/Snipaste_2023-05-27_16-53-58.png)
```css
.n:nth-child(n) {
  background-color: salmon;
}
.n:nth-child(1) {
  border-width: 3px;
}
```
- `:nth-child(n+3):nth-child(-n+5)`: è¡¨ç¤ºç¬¬3ã€4ã€5ä¸ªå…ƒç´ . ç”¨äºé€‰æ‹©ä¸€ä¸ªå…·æœ‰ä¸Šä¸‹é™èŒƒå›´å†…çš„å…ƒç´ 
![](../image/Snipaste_2023-05-27_16-54-47.png)

### æœ€æ–°çš„ [of S] è¯­æ³•
ç›®å‰ `:nth-child()` åªèƒ½é€‰æ‹©ç‰¹å®šä½ç½®çš„å…ƒç´ , æ¯”å¦‚ `.name:nth-child(-n+3)` åªèƒ½é€‰æ‹©å…ƒç´ ä¸­ `class` åŒ…å« `name` çš„å¹¶ä¸”æ˜¯å‰ä¸‰ä¸ªå…ƒç´ . ä½†æ˜¯, å¦‚æœæˆ‘ä»¬æƒ³è¦é€‰æ‹©å‰ä¸‰ä¸ª `class` åŒ…å« `name` çš„å…ƒç´ å‘¢? é‚£å°±æ˜¯æœ€æ–°çš„ `of S` è¯­æ³•

ä¸‹é¢çš„ä¾‹å­
```css
.class1 > .item:nth-child(-n+3 of .name) {
  background-color: salmon;
}
```
```html
<ul class="class1">
  <li class="name item">1</li>
  <li class="item">2</li>
  <li class="item">3</li>
  <li class="item">4</li>
  <li class="item">5</li>
  <li class="name item">6</li>
  <li class="item">7</li>
  <li class="item">8</li>
  <li class="name item">9</li>
  <li class="name item">10</li>
</ul>
```
![](../image/Snipaste_2023-05-28_20-14-53.png)
ğŸ“–ä¸€å®šè¦ç•™æ„ä¸¤è€…çš„ä¸åŒå“¦. 

ä½ å¯èƒ½é—®æ–°çš„è¯­æ³•æœ‰ä»€ä¹ˆç”¨å‘¢, å½“ç„¶æœ‰ç”¨å•¦, æ¯”å¦‚æˆ‘ä»¬åœ¨ç»™è¡¨æ ¼æ·»åŠ é—´éš”èƒŒæ™¯æ—¶, å¦‚æœå‡ºç°ä¸€è¡Œå…ƒç´ è¢«éšè—çš„æƒ…å†µ, ä¼šå‡ºç°ä»€ä¹ˆæ•ˆæœå‘¢?
```css
tr:nth-child(even) {
  background-color: azure;
}
```
```html
<tbody>
  <tr></tr>
  <tr hidden></tr>
  <tr></tr>
  <tr></tr>
</tbody>
```
![](../image/Snipaste_2023-05-28_20-25-01.png)
å“‡! è¢«éšè—çš„é‚£ä¸€è¡Œä¹Ÿè¢«è€ƒè™‘è¿›å…¥äº†, æŒ‰ç†è¯´åº”è¯¥åªæœ‰ç¬¬äºŒè¡Œ(`JiaXin`)æ‰æœ‰é˜´å½±çš„, æ€ä¹ˆåŠå‘¢? ä½¿ç”¨ `of S`. æˆ‘ä»¬ä¸æ˜¯è¦é€‰æ‹©å¶æ•°è¡Œ, è€Œæ˜¯è¦é€‰æ‹©æ‰€æœ‰ `hidden` ä¸º `false` çš„å¶æ•°è¡Œ.
```css
tr:nth-child(even of :not([hidden])) {
  background-color: azure;
}
```
![](../image/Snipaste_2023-05-28_20-33-48.png)
### æƒé‡
`:nth-child()` çš„æƒé‡æ˜¯å•ä¸ªä¼ªç±»çš„æƒé‡. å¦‚æœä½¿ç”¨ `of S` è¯­æ³•, é‚£ä¹ˆå°±æ˜¯å•ä¸ªä¼ªç±»çš„æƒé‡åŠ ä¸Š `S` ä¸­æƒé‡æœ€é«˜çš„æƒé‡å€¼.
```html
<div>
  <div id="country1" class="country1">CHINA</div>
</div>
```
```css
.country1:nth-child(1) {
  color: blue; /** WIN  */
}
.country1 {
  color: red;
}
```
![](../image/Snipaste_2023-05-28_20-47-55.png)

å¦‚æœæˆ‘ä»¬å†åŠ ä¸€ä¸ªå‘¢?
```css
:nth-child(1 of #country1.country1) {
  color: green; /** WIN */
}
```
![](../image/Snipaste_2023-05-28_20-48-42.png)
## æµè§ˆå™¨å…¼å®¹æ€§
æ ¹æ® [MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/:nth-child#browser_compatibility), `of S` çš„æ–°è¯­æ³•éœ€è¦æ¯”è¾ƒæ–°çš„æµè§ˆå™¨æ”¯æŒ
![](../image/Snipaste_2023-05-28_20-56-28.png)

è°¢è°¢ä½ çœ‹åˆ°è¿™é‡ŒğŸ˜Š
