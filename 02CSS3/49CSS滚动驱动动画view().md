<!-- TOC -->
- [CSS æ»šåŠ¨é©±åŠ¨åŠ¨ç”» view](#css-%E6%BB%9A%E5%8A%A8%E9%A9%B1%E5%8A%A8%E5%8A%A8%E7%94%BB-view)
  - [è¯­æ³•](#%E8%AF%AD%E6%B3%95)
  - [ä¾‹å­](#%E4%BE%8B%E5%AD%90)
    - [ä¸¤ä¸ª inset](#%E4%B8%A4%E4%B8%AA-inset)
    - [ä¸€ä¸ª inset](#%E4%B8%80%E4%B8%AA-inset)

<!-- /TOC -->
# CSS æ»šåŠ¨é©±åŠ¨åŠ¨ç”» view()
> `animation-timeline` é€šè¿‡ `view()` è¡¨ç¤ºä¸€ä¸ªå…ƒç´  `A` å°†æä¾›åŒ¿åçš„ã€ ç”¨æ¥æ§åˆ¶åŠ¨ç”»çš„ `view progressive timeline`. 

é€šè¿‡ `A` åœ¨å…¶æœ€è¿‘çš„æ»šåŠ¨ç¥–å…ˆå…ƒç´ ä¸­çš„å¯è§æ€§æ¥æ¨åŠ¨ `view progressive timeline`. ä¹Ÿå°±æ˜¯, å½“ `A` å³å°†å‡ºç°åœ¨æ»šåŠ¨ç¥–å…ˆå…ƒç´ æ—¶, `timeline` ä¸º `0%`, å½“ `A` å®Œå…¨ç¦»å¼€æ»šåŠ¨ç¥–å…ˆå…ƒç´ æ—¶, `timeline` ä¸º `100%`.

ä¸Šå›¾

![](../image/view-timeline3.gif)

## è¯­æ³•
`view()` å¯ä»¥æ¥æ”¶ä¸¤ä¸ªå‚æ•°
- `axis`: è½´, å¯ä»¥æ˜¯ `block(é»˜è®¤å€¼)`, `inline`, `y`, `x`. ä¸ [scroll()](./46CSS%E6%BB%9A%E5%8A%A8%E9%A9%B1%E5%8A%A8%E5%8A%A8%E7%94%BBscroll().md) ç›¸åŒ, å¯ç‚¹å‡»å‚è€ƒ. ğŸ“– å¦‚æœæŒ‡å®šè½´çš„æ–¹å‘ä¸å¯ä»¥æ»šåŠ¨, é‚£ä¹ˆæ—¶é—´çº¿å°†å§‹ç»ˆå¤„äº `0%` çš„çŠ¶æ€.

- `inset`: é»˜è®¤æƒ…å†µ, åŠ¨ç”»æ˜¯å…ƒç´ å°†è¦è¿›å…¥æ»šåŠ¨å®¹å™¨å¼€å§‹, åœ¨å®Œå…¨ç¦»å¼€æ»šåŠ¨å®¹å™¨ç»“æŸ. `inset` å‚æ•°å¯ä»¥ä¿®æ”¹åŠ¨ç”»å¼€å§‹å’Œç»“æŸæ—¶ä½ç½®, ä¹Ÿå°±æ˜¯å…ƒç´ æ»šåŠ¨åˆ°å“ªé‡Œç®—å¼€å§‹ã€åˆæ»šåŠ¨åˆ°å“ªé‡Œç®—ç»“æŸ.
  - `inset` å¯ä»¥æ˜¯ä¸€ä¸ªå€¼æˆ–ä¸¤ä¸ªå€¼, å¯ä»¥æ˜¯ `auto` æˆ–é•¿åº¦å€¼æˆ–ç™¾åˆ†æ¯”å€¼.

ğŸ“– è¿™ä¸¤ä¸ªå‚æ•°çš„ä½ç½®å¯ä»¥ä»»æ„, ä¸”ä¸¤ä¸ªå‚æ•°éƒ½ä¸æ˜¯å¿…é¡», å› æ­¤ä¸‹é¢çš„è°ƒç”¨éƒ½æ˜¯åˆç†çš„. 

ğŸ“– æ³¨æ„å‚æ•°ä¹‹é—´ä½¿ç”¨**ç©ºæ ¼**è€Œä¸æ˜¯é€—å·åˆ†éš”
- `view()`:
- `view(block)`:
- `view(20px)`:
- `view(inline 20px)`:
- `view(inline 20px 10%)`:

### ä¸¤ä¸ª inset
```html
<div class="container">
  <div class="box"></div>
</div>
```
```css
.container {
  width: 400px;
  height: 200px;
  overflow: auto;
}
@keyframes grow1 {
  from { transform: scaleX(0); }
  to { transform: scaleX(1); }
}
.box {
  width: 50%;
  height: 20px;
  background-color: salmon;
  animation: grow1 linear both;
  animation-timeline: view(block 40% 20%);
}
```
![](../image/view-timeline4.gif)

æˆ‘ä»¬ä»”ç»†è§‚å¯Ÿ, å½“åŠ¨ç”»å¼€å§‹çš„æ—¶å€™, æ˜¯è·ç¦»åº•éƒ¨ `20%` é«˜åº¦çš„ä½ç½®å¼€å§‹, åˆ°è·ç¦»é¡¶éƒ¨ `40%` çš„ä½ç½®ç»“æŸ.

ğŸ“– æ³¨æ„ `CSS` è§„åˆ™çš„ä¹¦å†™é¡ºåº, å› ä¸º `animation` æ˜¯ç®€å†™å±æ€§å¹¶ä¸”åŒ…å« `animation-timeline`, å› æ­¤ä¸€å®šè¦å…ˆå†™ `animation` å†å†™ `animation-timeline`, å¦åˆ™ `animation-timeline` å°±ä¼šè¢«é‡ç½®

### ä¸€ä¸ª inset
å¦‚æœåƒä¸‹é¢ä¸€æ ·åªæœ‰ä¸€ä¸ªå€¼, è¡¨ç¤ºåŠ¨ç”»ä»è·ç¦»åº•éƒ¨ `40%` çš„ä½ç½®å¼€å§‹, åˆ°è·ç¦»é¡¶éƒ¨ `40%` çš„ä½ç½®ç»“æŸ. ä¹Ÿå°±æ˜¯ `40%` è¢«å¤ç”¨äº†.
```css
.box {
  animation-timeline: view(block 40%);
}
```
![](../image/view-timeline5.gif)

å½“ç„¶å¦‚æœä½ æƒ³è¦åŠ¨ç”»ä»é»˜è®¤ä½ç½®å¼€å§‹, æˆ–é»˜è®¤ä½ç½®ç»“æŸ, é‚£ä¹ˆå°±ä½¿ç”¨ `auto`
- `view(block 40% auto)`: é»˜è®¤ä½ç½®å¼€å§‹, è·`é¡¶éƒ¨` `40%` ä½ç½®ç»“æŸ
  - ![](../image/view-timeline6.gif)
- `view(block auto 40%)`: è·`åº•éƒ¨` `40%` ä½ç½®å¼€å§‹, é»˜è®¤ä½ç½®ç»“æŸ
  - ![](../image/view-timeline7.gif)

ğŸ’¡æ‰€ä»¥ä½ çœ‹åˆ°è§„å¾‹äº†å—? å¦‚æœç™¾åˆ†æ¯”å†™åœ¨ç¬¬ä¸€ä¸ªä½ç½®, å°±æ˜¯ç›¸å¯¹äº `é¡¶éƒ¨`; å¦‚æœå†™åœ¨äºŒä¸ªä½ç½®, å°±æ˜¯ç›¸å¯¹äº `åº•éƒ¨` 


è°¢è°¢ä½ çœ‹åˆ°è¿™é‡ŒğŸ˜Š