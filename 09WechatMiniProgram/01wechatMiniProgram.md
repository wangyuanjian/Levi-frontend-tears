# å¾®ä¿¡å°ç¨‹åºå¼€å‘
> å°ç¨‹åºæä¾›äº†ä¸€ä¸ªç®€å•é«˜æ•ˆçš„åº”ç”¨å¼€å‘æ¡†æ¶å’Œä¸°å¯Œçš„ç»„ä»¶åŠ  `API`, å¸®åŠ©å¼€å‘è€…åœ¨å¾®ä¿¡ä¸­å¼€å‘å…·æœ‰åŸç”Ÿ `APP` ä½“éªŒçš„æœåŠ¡

<!-- TOC -->

- [å¾®ä¿¡å°ç¨‹åºå¼€å‘](#å¾®ä¿¡å°ç¨‹åºå¼€å‘)
  - [ç®€ä»‹](#ç®€ä»‹)
    - [æ³¨å†Œä¸å®‰è£…](#æ³¨å†Œä¸å®‰è£…)
    - [é…ç½®æ–‡ä»¶](#é…ç½®æ–‡ä»¶)
  - [å°ç¨‹åºé¡µé¢](#å°ç¨‹åºé¡µé¢)

<!-- /TOC -->

## ç®€ä»‹
1. å°ç¨‹åºä¸æ™®é€šç½‘é¡µå¼€å‘çš„åŒºåˆ«
    - è¿è¡Œç¯å¢ƒä¸åŒ
      - ç½‘é¡µè¿è¡Œåœ¨æµè§ˆå™¨ç«¯
      - å°ç¨‹åºè¿è¡Œåœ¨å¾®ä¿¡ç¯å¢ƒ
    - `API` ä¸åŒ
      - å°ç¨‹åºæ— æ³•è°ƒç”¨ `DOM` å’Œ `BOM` çš„ `API`. åªèƒ½è°ƒç”¨å¾®ä¿¡ç¯å¢ƒæä¾›çš„ `API`, å¦‚åœ°ç†å®šä½, æ‰«ç å’Œæ”¯ä»˜ç­‰.
    - å¼€å‘æ¨¡å¼ä¸åŒ
      - å°ç¨‹åºç”±æœ‰è‡ªå·±çš„æ ‡å‡†å¼€å‘æ¨¡å¼
        - ç”³è¯·å°ç¨‹åºå¼€å‘è´¦å·
        - å®‰è£…å°ç¨‹åºå¼€å‘è€…å·¥å…·
        - åˆ›å»ºå’Œé…ç½®å°ç¨‹åºé¡¹ç›®
2. ä½“éªŒå®˜æ–¹å¼€å‘çš„å°ç¨‹åº
    - æ‰‹æœºå¾®ä¿¡(`6.7.2`åŠä»¥ä¸Šç‰ˆæœ¬)æ‰«ç 
    - ![](../../image/Snipaste_2022-07-17_09-26-25.png)
### æ³¨å†Œä¸å®‰è£…
1. æ³¨å†Œå°ç¨‹åºå¼€å‘è€…è´¦å·
    - è®¿é—®[https://mp.weixin.qq.com/](https://mp.weixin.qq.com/), ç‚¹å‡»å³ä¸Šè§’`ç«‹å³æ³¨å†Œ`
      - ![](../../image/Snipaste_2022-07-17_09-39-35.png)
    - é€‰æ‹©æ³¨å†Œè´¦å·ç±»å‹ä¸º`å°ç¨‹åº`
    - ç‚¹å‡»å³ä¾§ `åˆ›å»ºæµ‹è¯•å·ï¼Œå…æ³¨å†Œå¿«é€Ÿä½“éªŒå°ç¨‹åºå¼€å‘`. æ‰‹æœºæ‰«ç åæ³¨å†ŒæˆåŠŸ, è¿”å›ç™»å½•é¡µç™»å½•, å†æ¬¡æ‰«ç é€‰æ‹©åˆšæ‰çš„æµ‹è¯•è´¦å·ç™»å½•, å³å¯çœ‹åˆ° AppID å’Œ AppSecret
      - ![](../../image/Snipaste_2022-07-17_09-46-07.png)
2. ä¸‹è½½å¼€å‘è€…å·¥å…·
    - è®¿é—® [https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html) ä¸‹è½½å¼€å‘è€…å·¥å…·, é€‰æ‹©ç¨³å®šç‰ˆ.
    - åœ¨å®‰è£…è¿‡ç¨‹ä¸­æç¤ºä¿®æ”¹ç³»ç»Ÿå˜é‡ Path å‡ºé”™, éœ€è¦æ‰‹åŠ¨åŠ ä¸€ä¸‹
3. åˆ›å»ºå°ç¨‹åºé¡¹ç›®
    - ![](../../image/Snipaste_2022-07-17_10-05-51.png)
    - ![](../../image/Snipaste_2022-07-17_10-08-17.png)
4. é¡¹ç›®çš„åŸºæœ¬ç»“æ„
    - ![](../../image/Snipaste_2022-07-17_21-59-40.png)
    - `pages`: ç”¨æ¥å­˜æ”¾æ‰€æœ‰å°ç¨‹åºçš„é¡µé¢
    - `utils`: ç”¨æ¥å­˜æ”¾å·¥å…·æ€§è´¨çš„æ¨¡å—ï¼Œ æ¯”å¦‚æ ¼å¼åŒ–æ—¶é—´çš„è‡ªå®šä¹‰æ¨¡å—
    - `.eslintrc.js`: `ESLint` çš„é…ç½®æ–‡ä»¶
    - `app.js`: å°ç¨‹åºçš„å…¥å£æ–‡ä»¶
    - `app.json`: å°ç¨‹åºçš„å…¨å±€é…ç½®æ–‡ä»¶
    - `app.wxss`: å°ç¨‹åºçš„å…¨å±€æ ·å¼æ–‡ä»¶
    - `project.config.js`: é¡¹ç›®çš„é…ç½®æ–‡ä»¶
    - `project.private.config.js`: ä¹Ÿæ˜¯é¡¹ç›®çš„é…ç½®æ–‡ä»¶, ä½†æ˜¯ç›¸åŒè®¾ç½®ä¼˜å…ˆçº§é«˜äº `project.config.js`, å¯ä»¥åœ¨ `project.config.js` é…ç½®`å…¬å…±`çš„é…ç½®, åœ¨è¯¥æ–‡ä»¶ä¸­é…ç½®`ä¸ªäºº`çš„é…ç½®
    - `sitemap.json`: é…ç½®å°ç¨‹åºåŠå…¶é¡µé¢æ˜¯å¦å…è®¸è¢«å¾®ä¿¡ç´¢å¼•.
5. å°ç¨‹åºé¡µé¢çš„ç»„æˆéƒ¨åˆ†
    - å®˜æ–¹å»ºè®®æŠŠæ‰€æœ‰å°ç¨‹åºé¡µé¢éƒ½å­˜æ”¾åœ¨ `pages` ç›®å½•ä¸­, ä»¥`å•ç‹¬çš„æ–‡ä»¶å¤¹`å­˜åœ¨
    - ![](../../image/Snipaste_2022-07-17_22-12-30.png)
    - `.js`: é¡µé¢çš„è„šæœ¬æ–‡ä»¶ 
    - `.json`: é¡µé¢çš„é…ç½®æ–‡ä»¶
    - `.wxml`: é¡µé¢çš„æ¨¡æ¿ç»“æ„æ–‡ä»¶
    - `.wxss`: å½“å‰é¡µé¢çš„æ ·å¼æ–‡ä»¶
### é…ç½®æ–‡ä»¶
1. å°ç¨‹åºä¸­ä¸€å…±æœ‰ `4` ä¸­ `json` é…ç½®æ–‡ä»¶, åˆ†åˆ«æ˜¯
    - é¡¹ç›®æ ¹ç›®å½•çš„ `app.json`
    - é¡¹ç›®æ ¹ç›®å½•çš„ `project.config.json`
    - é¡¹ç›®æ ¹ç›®å½•çš„ `sitemap.json`
    - æ¯ä¸ªé¡µé¢æ–‡ä»¶å¤¹ä¸­çš„ `.json` é…ç½®æ–‡ä»¶
2. `app.json`
    - æ˜¯å½“å‰å°ç¨‹åºçš„`å…¨å±€é…ç½®`, åŒ…æ‹¬äº†å°ç¨‹åºçš„æ‰€æœ‰é¡µé¢è·¯å¾„, çª—å£å¤–è§‚, ç•Œé¢è¡¨ç°, åº•éƒ¨ `tab` ç­‰.
    - åˆšåˆ›å»ºçš„é¡¹ç›®çš„ `app.json` å†…å®¹å¦‚ä¸‹(æœ‰åˆ å‡)
      - ```json
        {
          "pages":[
            "pages/index/index",
          ],
          "window":{
            "navigationBarTextStyle":"black"
          },
          "style": "v2",
          "sitemapLocation": "sitemap.json"
        }
      - `pages`: å½“å‰å°ç¨‹åºæ‰€æœ‰é¡µé¢çš„è·¯å¾„
      - `window`: å…¨å±€å®šä¹‰å°ç¨‹åºæ‰€æœ‰é¡µé¢çš„èƒŒæ™¯è‰², æ–‡å­—é¢œè‰²ç­‰
      - `style`: å…¨å±€å®šä¹‰å°ç¨‹åºç»„ä»¶æ‰€ä½¿ç”¨çš„æ ·å¼ç‰ˆæœ¬
      - `sitemapLocation`: æŒ‡æ˜ `sitemap.json` çš„ä½ç½®
3. `project.config.json`
    - å…¶ä¸­å­˜æ”¾çš„æ˜¯é¡¹ç›®é…ç½®æ–‡ä»¶, ç”¨æ¥è®°å½•å¼€å‘æ—¶çš„é…ç½®, ä¾‹å¦‚
      - `setting`: ç¼–è¯‘ç›¸å…³çš„é…ç½®. å¹¶ä¸”è¯¥é…ç½®ä¸`è¯¦æƒ…->æœ¬åœ°è®¾ç½®`ä¸­çš„é…ç½®ä¸€æ ·, ä¼šåŒæ­¥ä¿®æ”¹
        - ![](../../image/Snipaste_2022-07-18_08-20-27.png)
      - `projectname`: é¡¹ç›®åç§°. ğŸ“•é¡¹ç›®åç§°(æ¯”å¦‚`my_project_001`)ä¸ç­‰äºå°ç¨‹åºæœ€ç»ˆçš„åå­—(æ¯”å¦‚`é€‰è¯¾ç®¡ç†ç³»ç»Ÿ`)
      - `appid`: å°ç¨‹åºçš„ `id`.
4. `sitemap.json`
    - å¾®ä¿¡å·²ç»å¼€å‘äº†å°ç¨‹åºå†…æœç´¢, è¯¥æ–‡ä»¶ç”¨æ¥é…ç½®å°ç¨‹åºé¡µé¢æ˜¯å¦å…è®¸å¾®ä¿¡ç´¢å¼•
5. é¡µé¢ä¸­ `.json` æ–‡ä»¶
    - æ¯ä¸€ä¸ªå°ç¨‹åºé¡µé¢éƒ½å¯ä»¥ä½¿ç”¨ `.json` æ–‡ä»¶å¯¹æœ¬é¡µé¢çš„çª—å£å¤–è§‚é…ç½®, é¡µé¢ä¸­çš„é…ç½®é¡¹ä¼šè¦†ç›– `app.json` çš„ `window` ä¸­ç›¸åŒçš„é…ç½®é¡¹.
    - ![](../../image/Snipaste_2022-07-18_09-33-00.png)
## å°ç¨‹åºé¡µé¢
1. æ–°å»ºå°ç¨‹åºé¡µé¢
    - åªéœ€åœ¨ `app.json` çš„ `pages` é…ç½®é¡¹ä¸­æ–°å¢é¡µé¢å­˜æ”¾è·¯å¾„, å°ç¨‹åºå¼€å‘å·¥å…·å°±ä¼šè‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬åˆ›å»ºå¯¹åº”çš„é¡µé¢æ–‡ä»¶
    - ```json
      "pages":[
        "pages/index/index",
        "pages/logs/logs",
        "pages/home/home"
      ],
    - ![](../../image/Snipaste_2022-07-18_09-37-16.png)
2. ä¿®æ”¹å°ç¨‹åºé¡¹ç›®é¦–é¡µ
    - åªéœ€ä¿®æ”¹ `app.json` çš„ `pages` æ•°ç»„ä¸­çš„
![](../../image/)
![](../../image/)
![](../../image/)
![](../../image/)
![](../../image/)
![](../../image/)
![](../../image/)
![](../../image/)
![](../../image/)
![](../../image/)
![](../../image/)
![](../../image/)
![](../../image/)
![](../../image/)
![](../../image/)